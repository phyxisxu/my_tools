要在单机上部署 TiDB，你可以使用 TiUP，这是一个由 PingCAP 官方提供的用于管理 TiDB 集群的工具。以下是用 TiUP 在单机部署 TiDB 的步骤：
安装 TiUP
首先，你需要在你的机器上安装 TiUP。可以使用下面的命令来做这个：
bash
   curl --proto '=https' --tlsv1.2 -sSf https://tiup-mirrors.pingcap.com/install.sh | sh
   
安装 TiUP 组件
在安装好 TiUP 后，你需要安装 tiup cluster 组件，这是一个用于管理你的 TiDB 集群的工具：
bash
   tiup cluster
编写拓扑文件
编写一个部署拓扑文件，定义部署的机器、组件等信息:

# tidb-cluster.yaml  
global:
  user: "tidb"
  ssh_port: 22
  deploy_dir: "/tidb-deploy"
  data_dir: "/tidb-data"
  ssh_type: 'builtin' 
pd_servers:
  - host: 127.0.0.1
tikv_servers:
  - host: 127.0.0.1
tidb_servers:
  - host: 127.0.0.1
monitoring_servers:
  - host: 127.0.0.1
grafana_servers:
  - host: 127.0.0.1
  
  
注意替换掉配置文件中的 IP 地址（10.0.1.1）为你 machines 的 IP 地址。
部署 TiDB 集群
然后我们可以使用 tiup cluster 部署 TiDB：
bash
   tiup cluster deploy tidb-cluster v4.0.8 ./tidb-cluster.yaml
上述命令将在你的机器上部署一个名为 'tidb-cluster' 的 TiDB 集群，使用的 TiDB 版本是 v4.0.8，部署配置如 tidb-cluster.yaml 文件所述。
启动 TiDB 集群
当部署完成后，你可以使用以下命令启动 TiDB 集群：
bash
   tiup cluster start tidb-cluster
现在你就可以通过 MySQL 客户端连接你的 TiDB 了。
